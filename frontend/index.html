<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgenticX5 | Plateforme HSE Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #8b5cf6;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --darker: #020617;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            min-height: 100vh;
        }
        
        /* Animations */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        @keyframes slide-up {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); }
        }
        
        .animate-slide-up { animation: slide-up 0.5s ease-out; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }
        
        .pulse-ring::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: inherit;
            animation: pulse-ring 1.5s ease-out infinite;
        }
        
        /* Glass morphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glass-dark {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        /* Cards */
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        /* Status indicators */
        .status-critical { background: linear-gradient(135deg, #dc2626, #991b1b); }
        .status-high { background: linear-gradient(135deg, #ea580c, #c2410c); }
        .status-medium { background: linear-gradient(135deg, #eab308, #ca8a04); }
        .status-low { background: linear-gradient(135deg, #22c55e, #16a34a); }
        
        /* Sidebar */
        .sidebar-item {
            transition: all 0.2s ease;
        }
        .sidebar-item:hover {
            background: rgba(59, 130, 246, 0.2);
        }
        .sidebar-item.active {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.3); }
        
        /* Agent status */
        .agent-online { box-shadow: 0 0 10px rgba(34, 197, 94, 0.5); }
        .agent-processing { box-shadow: 0 0 10px rgba(59, 130, 246, 0.5); }
        .agent-alert { box-shadow: 0 0 10px rgba(239, 68, 68, 0.5); }
    </style>
</head>
<body class="text-white">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;
        
        // ============================================================
        // CONTEXT - Auth & App State
        // ============================================================
        
        const AppContext = createContext();
        
        const useApp = () => useContext(AppContext);
        
        // ============================================================
        // DATA - Mock data pour d√©mo
        // ============================================================
        
        const USERS = {
            direction: { id: 1, name: "Marie-Claude Tremblay", role: "direction", title: "VP Op√©rations", avatar: "üëî", sites: ["Tous les sites"] },
            coss: { id: 2, name: "Sophie Pr√©ventionniste", role: "coss", title: "Coordonnatrice SST", avatar: "üõ°Ô∏è", sites: ["Site Montr√©al"] },
            superviseur: { id: 3, name: "Pierre Contrema√Ætre", role: "superviseur", title: "Superviseur Production", avatar: "üìã", zone: "Zone Usinage" },
            travailleur: { id: 4, name: "Jean Ouvrier", role: "travailleur", title: "Op√©rateur Machine", avatar: "üë∑", zone: "Zone Usinage" },
        };
        
        const ALERTS = [
            { id: 1, type: "critical", message: "Niveau bruit Zone Soudure >95dB depuis 15min", time: "Il y a 2 min", agent: "IoTCollector" },
            { id: 2, type: "high", message: "EPI manquant d√©tect√© - Poste 7 (lunettes)", time: "Il y a 8 min", agent: "SafeVision" },
            { id: 3, type: "medium", message: "Inspection Zone Entrep√¥t en retard (J+3)", time: "Il y a 1h", agent: "ComplianceChecker" },
            { id: 4, type: "low", message: "Formation recyclage SIMDUT - 3 employ√©s", time: "Il y a 2h", agent: "TrainingAI" },
        ];
        
        const INCIDENTS = [
            { id: "INC-2025-0042", date: "2025-12-24", type: "Accident", severity: "medium", zone: "Usinage", status: "Enqu√™te", description: "Coupure main avec outil rotatif" },
            { id: "INC-2025-0041", date: "2025-12-23", type: "Near-miss", severity: "high", zone: "Soudure", status: "CAPA", description: "Quasi-chute √©chafaudage mobile" },
            { id: "INC-2025-0040", date: "2025-12-22", type: "Near-miss", severity: "low", zone: "Entrep√¥t", status: "Ferm√©", description: "Palette mal stabilis√©e" },
            { id: "INC-2025-0039", date: "2025-12-20", type: "Incident", severity: "medium", zone: "Assemblage", status: "CAPA", description: "Exposition bruit prolong√©e >90dB" },
            { id: "INC-2025-0038", date: "2025-12-18", type: "Accident", severity: "high", zone: "Soudure", status: "Ferm√©", description: "Br√ªlure arc √©lectrique avant-bras" },
        ];
        
        const AGENTS_DATA = {
            conformite: [
                { name: "LexiNorm", status: "online", tasks: 145, accuracy: 98.2, description: "Veille r√©glementaire CNESST/OSHA/ISO" },
                { name: "ComplyAI", status: "online", tasks: 89, accuracy: 99.1, description: "Export conformit√© automatis√©" },
                { name: "AuditTrailAI", status: "online", tasks: 1247, accuracy: 100, description: "Journalisation immuable" },
                { name: "PolicyHubAI", status: "processing", tasks: 34, accuracy: 97.5, description: "Gestion politiques SST" },
            ],
            terrain: [
                { name: "SafeVision", status: "online", tasks: 12847, accuracy: 94.7, description: "D√©tection EPI & dangers (YOLOv8)" },
                { name: "LOTOAI", status: "online", tasks: 567, accuracy: 99.8, description: "Cadenassage intelligent" },
                { name: "PermitAI", status: "online", tasks: 234, accuracy: 98.9, description: "Permis de travail automatis√©s" },
                { name: "ConfinedSpaceAI", status: "alert", tasks: 89, accuracy: 97.2, description: "Monitoring espaces clos" },
                { name: "WorkAtHeightAI", status: "online", tasks: 156, accuracy: 96.1, description: "Pr√©vention chutes hauteur" },
                { name: "HeatStressAI", status: "online", tasks: 445, accuracy: 95.8, description: "Monitoring WBGT" },
            ],
            incidents: [
                { name: "RiskPredictor", status: "online", tasks: 8934, accuracy: 94.7, description: "Pr√©diction incidents J+7" },
                { name: "IncidentRecordAI", status: "online", tasks: 1256, accuracy: 99.9, description: "Auto-d√©claration <24h" },
                { name: "RootCauseAI", status: "processing", tasks: 234, accuracy: 91.2, description: "Analyse causale (RCA)" },
                { name: "NearMissAI", status: "online", tasks: 567, accuracy: 88.5, description: "D√©tection quasi-accidents" },
            ],
            formation: [
                { name: "CompetencyTracker", status: "online", tasks: 2341, accuracy: 99.5, description: "Matrice comp√©tences SST" },
                { name: "MicrolearningAI", status: "online", tasks: 8765, accuracy: 94.2, description: "Coaching mobile contextualis√©" },
                { name: "VRTrainingAI", status: "processing", tasks: 123, accuracy: 96.8, description: "Sc√©narios immersifs VR" },
            ],
            analytics: [
                { name: "HSE-KPI-AI", status: "online", tasks: 4521, accuracy: 99.8, description: "Dashboards temps r√©el" },
                { name: "MLPipeline", status: "online", tasks: 12456, accuracy: 94.7, description: "Classification risques (XGBoost)" },
                { name: "BenchmarkAI", status: "online", tasks: 234, accuracy: 97.3, description: "Comparaisons multi-sites" },
            ],
            innovation: [
                { name: "BehaviorX", status: "online", tasks: 3421, accuracy: 98.0, description: "Analyse comportementale 7D" },
                { name: "OracleHSE", status: "online", tasks: 5678, accuracy: 95.2, description: "Pr√©diction multi-horizons" },
                { name: "STORM", status: "processing", tasks: 1247, accuracy: 92.4, description: "Recherche scientifique auto" },
                { name: "XAI-Agent", status: "online", tasks: 8934, accuracy: 99.1, description: "Explicabilit√© SHAP/LIME" },
            ],
        };
        
        const KPI_DATA = {
            tf: { value: 2.3, trend: -18, target: 2.5 },
            tg: { value: 15.2, trend: -12, target: 18 },
            conformite: { value: 94.7, trend: 3.2, target: 95 },
            joursSSA: { value: 45, trend: 15, target: 30 },
            incidentsOuverts: 4,
            actionsCAPA: { enCours: 12, echues: 2, completees: 45 },
            inspections: { faites: 12, planifiees: 15, enRetard: 1 },
            formations: { aJour: 142, aRenouveler: 8, echues: 3 },
        };
        
        const SITES = [
            { id: 1, name: "Montr√©al - Usine principale", employees: 245, score: 91, incidents: 2 },
            { id: 2, name: "Qu√©bec - Centre distribution", employees: 89, score: 87, incidents: 1 },
            { id: 3, name: "Laval - Assemblage", employees: 156, score: 94, incidents: 0 },
            { id: 4, name: "Sherbrooke - Entrep√¥t", employees: 67, score: 82, incidents: 3 },
        ];
        
        const ZONES = [
            { name: "Zone Soudure", risk: "critical", agents: 3, alerts: 2 },
            { name: "Zone Usinage", risk: "high", agents: 5, alerts: 1 },
            { name: "Zone Assemblage", risk: "medium", agents: 4, alerts: 0 },
            { name: "Zone Entrep√¥t", risk: "medium", agents: 3, alerts: 1 },
            { name: "Zone Administrative", risk: "low", agents: 2, alerts: 0 },
        ];
        
        // ============================================================
        // COMPONENTS - Login
        // ============================================================
        
        const LoginPage = ({ onLogin }) => {
            const [selectedRole, setSelectedRole] = useState(null);
            
            const roles = [
                { key: "direction", icon: "üëî", title: "Direction", desc: "VP, DG, Conseil d'administration", color: "from-purple-600 to-purple-800" },
                { key: "coss", icon: "üõ°Ô∏è", title: "CoSS", desc: "Coordonnateur Sant√©-S√©curit√©", color: "from-emerald-600 to-emerald-800" },
                { key: "superviseur", icon: "üìã", title: "Superviseur", desc: "Chef d'√©quipe, Contrema√Ætre", color: "from-blue-600 to-blue-800" },
                { key: "travailleur", icon: "üë∑", title: "Travailleur", desc: "Op√©rateur, Technicien", color: "from-amber-600 to-amber-800" },
            ];
            
            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="w-full max-w-4xl">
                        {/* Logo */}
                        <div className="text-center mb-12 animate-slide-up">
                            <div className="inline-flex items-center gap-4 mb-4">
                                <div className="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-3xl font-bold">
                                    X5
                                </div>
                                <div className="text-left">
                                    <h1 className="text-4xl font-bold">AgenticX5</h1>
                                    <p className="text-slate-400">Plateforme HSE Intelligence</p>
                                </div>
                            </div>
                            <p className="text-slate-400 max-w-xl mx-auto">
                                122+ agents IA ‚Ä¢ 793K incidents analys√©s ‚Ä¢ Conformit√© CNESST/ISO 45001
                            </p>
                        </div>
                        
                        {/* Role Selection */}
                        <div className="glass rounded-3xl p-8 animate-slide-up" style={{ animationDelay: "0.1s" }}>
                            <h2 className="text-xl font-semibold mb-6 text-center">S√©lectionnez votre profil</h2>
                            
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                                {roles.map((role) => (
                                    <button
                                        key={role.key}
                                        onClick={() => setSelectedRole(role.key)}
                                        className={`p-6 rounded-2xl text-center transition-all card-hover ${
                                            selectedRole === role.key 
                                                ? `bg-gradient-to-br ${role.color} ring-2 ring-white/50` 
                                                : 'glass-dark hover:bg-white/10'
                                        }`}
                                    >
                                        <div className="text-4xl mb-3">{role.icon}</div>
                                        <div className="font-semibold mb-1">{role.title}</div>
                                        <div className="text-xs text-slate-400">{role.desc}</div>
                                    </button>
                                ))}
                            </div>
                            
                            {selectedRole && (
                                <div className="animate-slide-up">
                                    <div className="glass-dark rounded-xl p-4 mb-6">
                                        <div className="flex items-center gap-4">
                                            <div className="text-4xl">{USERS[selectedRole].avatar}</div>
                                            <div>
                                                <div className="font-semibold">{USERS[selectedRole].name}</div>
                                                <div className="text-sm text-slate-400">{USERS[selectedRole].title}</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <button
                                        onClick={() => onLogin(USERS[selectedRole])}
                                        className="w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl font-semibold text-lg hover:opacity-90 transition-all"
                                    >
                                        Acc√©der au tableau de bord ‚Üí
                                    </button>
                                </div>
                            )}
                        </div>
                        
                        {/* Footer */}
                        <div className="text-center mt-8 text-sm text-slate-500">
                            <p>¬© 2025 GenAISafety / Preventera ‚Ä¢ D√âMO</p>
                            <p className="mt-1">
                                <span className="inline-flex items-center gap-2">
                                    <span className="w-2 h-2 bg-green-500 rounded-full"></span>
                                    122 agents actifs ‚Ä¢ SafetyGraph connect√©
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            );
        };
        
        // ============================================================
        // COMPONENTS - Layout
        // ============================================================
        
        const Sidebar = ({ currentPage, setCurrentPage, user }) => {
            const menuItems = {
                direction: [
                    { id: "dashboard", icon: "üìä", label: "Tableau de bord" },
                    { id: "analytics", icon: "üìà", label: "Analytics" },
                    { id: "sites", icon: "üè≠", label: "Multi-sites" },
                    { id: "conformite", icon: "‚öñÔ∏è", label: "Conformit√©" },
                    { id: "agents", icon: "ü§ñ", label: "Agents IA" },
                    { id: "rapports", icon: "üìÑ", label: "Rapports" },
                ],
                coss: [
                    { id: "dashboard", icon: "üìä", label: "Tableau de bord" },
                    { id: "incidents", icon: "üö®", label: "Incidents" },
                    { id: "inspections", icon: "üìã", label: "Inspections" },
                    { id: "programme", icon: "üìë", label: "Programme Pr√©v." },
                    { id: "conformite", icon: "‚öñÔ∏è", label: "Conformit√©" },
                    { id: "formations", icon: "üéì", label: "Formations" },
                    { id: "agents", icon: "ü§ñ", label: "Agents IA" },
                    { id: "analytics", icon: "üìà", label: "Analytics" },
                ],
                superviseur: [
                    { id: "dashboard", icon: "üìä", label: "Ma zone" },
                    { id: "equipe", icon: "üë•", label: "Mon √©quipe" },
                    { id: "incidents", icon: "üö®", label: "Incidents" },
                    { id: "inspections", icon: "üìã", label: "Inspections" },
                    { id: "permis", icon: "üìù", label: "Permis travail" },
                    { id: "formations", icon: "üéì", label: "Formations" },
                ],
                travailleur: [
                    { id: "dashboard", icon: "üìä", label: "Mon espace" },
                    { id: "signaler", icon: "üö®", label: "Signaler" },
                    { id: "formations", icon: "üéì", label: "Mes formations" },
                    { id: "documents", icon: "üìÑ", label: "Documents" },
                ],
            };
            
            const items = menuItems[user.role] || menuItems.travailleur;
            
            return (
                <aside className="w-64 glass-dark h-screen fixed left-0 top-0 flex flex-col">
                    {/* Logo */}
                    <div className="p-6 border-b border-white/10">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center font-bold">
                                X5
                            </div>
                            <div>
                                <div className="font-bold">AgenticX5</div>
                                <div className="text-xs text-slate-400">HSE Platform</div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Menu */}
                    <nav className="flex-1 p-4 overflow-y-auto">
                        <div className="space-y-1">
                            {items.map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setCurrentPage(item.id)}
                                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl sidebar-item ${
                                        currentPage === item.id ? 'active' : ''
                                    }`}
                                >
                                    <span className="text-xl">{item.icon}</span>
                                    <span className="font-medium">{item.label}</span>
                                </button>
                            ))}
                        </div>
                    </nav>
                    
                    {/* User */}
                    <div className="p-4 border-t border-white/10">
                        <div className="flex items-center gap-3">
                            <div className="text-3xl">{user.avatar}</div>
                            <div className="flex-1 min-w-0">
                                <div className="font-medium truncate">{user.name}</div>
                                <div className="text-xs text-slate-400 truncate">{user.title}</div>
                            </div>
                        </div>
                    </div>
                </aside>
            );
        };
        
        const Header = ({ user, onLogout }) => {
            const [showAlerts, setShowAlerts] = useState(false);
            
            return (
                <header className="h-16 glass-dark fixed top-0 left-64 right-0 z-40 flex items-center justify-between px-6">
                    <div className="flex items-center gap-4">
                        <h1 className="text-lg font-semibold">
                            {user.role === "direction" && "Vue Direction"}
                            {user.role === "coss" && "Espace CoSS"}
                            {user.role === "superviseur" && `Zone: ${user.zone}`}
                            {user.role === "travailleur" && "Mon Espace SST"}
                        </h1>
                        <span className="px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full flex items-center gap-1">
                            <span className="w-1.5 h-1.5 bg-green-400 rounded-full"></span>
                            HUGO Online
                        </span>
                    </div>
                    
                    <div className="flex items-center gap-4">
                        {/* Search */}
                        <div className="relative">
                            <input
                                type="text"
                                placeholder="Rechercher..."
                                className="w-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-sm focus:outline-none focus:border-blue-500"
                            />
                        </div>
                        
                        {/* Alerts */}
                        <div className="relative">
                            <button
                                onClick={() => setShowAlerts(!showAlerts)}
                                className="relative p-2 hover:bg-white/10 rounded-lg"
                            >
                                <span className="text-xl">üîî</span>
                                <span className="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center">
                                    {ALERTS.length}
                                </span>
                            </button>
                            
                            {showAlerts && (
                                <div className="absolute right-0 top-12 w-96 glass rounded-xl overflow-hidden shadow-2xl">
                                    <div className="p-4 border-b border-white/10 font-semibold">
                                        Alertes temps r√©el
                                    </div>
                                    <div className="max-h-96 overflow-y-auto">
                                        {ALERTS.map((alert) => (
                                            <div key={alert.id} className="p-4 border-b border-white/5 hover:bg-white/5">
                                                <div className="flex items-start gap-3">
                                                    <span className={`w-2 h-2 rounded-full mt-2 ${
                                                        alert.type === 'critical' ? 'bg-red-500' :
                                                        alert.type === 'high' ? 'bg-orange-500' :
                                                        alert.type === 'medium' ? 'bg-yellow-500' : 'bg-green-500'
                                                    }`}></span>
                                                    <div className="flex-1">
                                                        <p className="text-sm">{alert.message}</p>
                                                        <div className="flex items-center gap-2 mt-1 text-xs text-slate-400">
                                                            <span>ü§ñ {alert.agent}</span>
                                                            <span>‚Ä¢</span>
                                                            <span>{alert.time}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                        
                        {/* Logout */}
                        <button
                            onClick={onLogout}
                            className="px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm"
                        >
                            D√©connexion
                        </button>
                    </div>
                </header>
            );
        };
        
        // ============================================================
        // COMPONENTS - Dashboard Cards
        // ============================================================
        
        const KPICard = ({ icon, label, value, unit, trend, target, color }) => (
            <div className="glass rounded-2xl p-6 card-hover">
                <div className="flex items-start justify-between mb-4">
                    <span className="text-3xl">{icon}</span>
                    {trend !== undefined && (
                        <span className={`text-sm px-2 py-1 rounded-full ${
                            trend >= 0 ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'
                        }`}>
                            {trend >= 0 ? '‚Üì' : '‚Üë'} {Math.abs(trend)}%
                        </span>
                    )}
                </div>
                <div className={`text-3xl font-bold ${color || 'text-white'}`}>
                    {value}{unit}
                </div>
                <div className="text-sm text-slate-400 mt-1">{label}</div>
                {target && (
                    <div className="mt-3 pt-3 border-t border-white/10 text-xs text-slate-500">
                        Cible: {target}{unit}
                    </div>
                )}
            </div>
        );
        
        const AlertCard = ({ alerts }) => (
            <div className="glass rounded-2xl p-6">
                <h3 className="font-semibold mb-4 flex items-center gap-2">
                    <span>üö®</span> Alertes actives
                </h3>
                <div className="space-y-3">
                    {alerts.slice(0, 4).map((alert) => (
                        <div key={alert.id} className="flex items-start gap-3 p-3 bg-white/5 rounded-xl">
                            <span className={`w-2 h-2 rounded-full mt-2 ${
                                alert.type === 'critical' ? 'bg-red-500 animate-pulse' :
                                alert.type === 'high' ? 'bg-orange-500' :
                                alert.type === 'medium' ? 'bg-yellow-500' : 'bg-green-500'
                            }`}></span>
                            <div className="flex-1 min-w-0">
                                <p className="text-sm truncate">{alert.message}</p>
                                <p className="text-xs text-slate-500 mt-1">
                                    ü§ñ {alert.agent} ‚Ä¢ {alert.time}
                                </p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );
        
        const AgentStatusCard = ({ pole, agents }) => {
            const statusColors = {
                online: "bg-green-500",
                processing: "bg-blue-500 animate-pulse",
                alert: "bg-red-500 animate-pulse",
                offline: "bg-gray-500",
            };
            
            return (
                <div className="glass rounded-2xl p-6">
                    <h3 className="font-semibold mb-4">{pole}</h3>
                    <div className="space-y-3">
                        {agents.map((agent) => (
                            <div key={agent.name} className="flex items-center justify-between">
                                <div className="flex items-center gap-2">
                                    <span className={`w-2 h-2 rounded-full ${statusColors[agent.status]}`}></span>
                                    <span className="text-sm">{agent.name}</span>
                                </div>
                                <span className="text-xs text-slate-400">{agent.accuracy}%</span>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };
        
        // ============================================================
        // PAGES - Direction Dashboard
        // ============================================================
        
        const DirectionDashboard = () => (
            <div className="space-y-6 animate-slide-up">
                {/* KPIs Row */}
                <div className="grid grid-cols-4 gap-4">
                    <KPICard icon="üìâ" label="Taux de fr√©quence" value={KPI_DATA.tf.value} trend={KPI_DATA.tf.trend} target={KPI_DATA.tf.target} />
                    <KPICard icon="‚öñÔ∏è" label="Taux de gravit√©" value={KPI_DATA.tg.value} trend={KPI_DATA.tg.trend} target={KPI_DATA.tg.target} />
                    <KPICard icon="‚úÖ" label="Conformit√© globale" value={KPI_DATA.conformite.value} unit="%" trend={KPI_DATA.conformite.trend} target={KPI_DATA.conformite.target} color="text-green-400" />
                    <KPICard icon="üèÜ" label="Jours sans accident" value={KPI_DATA.joursSSA.value} trend={KPI_DATA.joursSSA.trend} color="text-blue-400" />
                </div>
                
                {/* Main Content */}
                <div className="grid grid-cols-3 gap-6">
                    {/* Sites Performance */}
                    <div className="col-span-2 glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üè≠</span> Performance multi-sites
                        </h3>
                        <div className="space-y-4">
                            {SITES.map((site) => (
                                <div key={site.id} className="flex items-center gap-4 p-4 bg-white/5 rounded-xl">
                                    <div className="flex-1">
                                        <div className="font-medium">{site.name}</div>
                                        <div className="text-sm text-slate-400">{site.employees} employ√©s</div>
                                    </div>
                                    <div className="text-right">
                                        <div className={`text-2xl font-bold ${
                                            site.score >= 90 ? 'text-green-400' :
                                            site.score >= 80 ? 'text-yellow-400' : 'text-red-400'
                                        }`}>
                                            {site.score}%
                                        </div>
                                        <div className="text-xs text-slate-400">Score SST</div>
                                    </div>
                                    <div className="text-right w-20">
                                        <div className={`text-lg font-semibold ${site.incidents > 0 ? 'text-red-400' : 'text-green-400'}`}>
                                            {site.incidents}
                                        </div>
                                        <div className="text-xs text-slate-400">Incidents</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* ROI & Predictions */}
                    <div className="space-y-6">
                        <div className="glass rounded-2xl p-6">
                            <h3 className="font-semibold mb-4">üí∞ ROI Pr√©vention</h3>
                            <div className="text-4xl font-bold text-green-400 mb-2">847%</div>
                            <div className="text-sm text-slate-400 mb-4">12 derniers mois</div>
                            <div className="space-y-2 text-sm">
                                <div className="flex justify-between">
                                    <span className="text-slate-400">√âconomies</span>
                                    <span className="text-green-400">$2.1M</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-slate-400">Investissement</span>
                                    <span>$248K</span>
                                </div>
                            </div>
                        </div>
                        
                        <div className="glass rounded-2xl p-6">
                            <h3 className="font-semibold mb-4">üîÆ Oracle HSE - Pr√©diction J+7</h3>
                            <div className="flex items-center gap-3 mb-4">
                                <div className="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                <span className="text-lg">Risque MOD√âR√â</span>
                                <span className="text-slate-400">(0.45)</span>
                            </div>
                            <div className="text-sm text-slate-400">
                                <div className="mb-2">Zones √† surveiller:</div>
                                <div className="space-y-1">
                                    <div className="flex justify-between">
                                        <span>‚Ä¢ Soudure</span>
                                        <span className="text-red-400">0.72</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>‚Ä¢ Usinage</span>
                                        <span className="text-orange-400">0.58</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                {/* Conformit√© */}
                <div className="glass rounded-2xl p-6">
                    <h3 className="font-semibold mb-4">‚öñÔ∏è Conformit√© r√©glementaire</h3>
                    <div className="grid grid-cols-4 gap-4">
                        {[
                            { name: "CNESST", score: 100, status: "ok" },
                            { name: "ISO 45001", score: 96, status: "ok" },
                            { name: "Loi 25", score: 94, status: "ok" },
                            { name: "EU AI Act", score: 78, status: "warning" },
                        ].map((item) => (
                            <div key={item.name} className="p-4 bg-white/5 rounded-xl text-center">
                                <div className={`text-2xl font-bold ${
                                    item.status === 'ok' ? 'text-green-400' : 'text-yellow-400'
                                }`}>
                                    {item.score}%
                                </div>
                                <div className="text-sm text-slate-400 mt-1">{item.name}</div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );
        
        // ============================================================
        // PAGES - CoSS Dashboard
        // ============================================================
        
        const CoSSDashboard = () => (
            <div className="space-y-6 animate-slide-up">
                {/* Alerts Banner */}
                <div className="glass rounded-2xl p-4 border-l-4 border-red-500">
                    <div className="flex items-center gap-4">
                        <span className="text-2xl">üî¥</span>
                        <div className="flex-1">
                            <div className="font-semibold">Alerte critique</div>
                            <div className="text-sm text-slate-400">Niveau bruit Zone Soudure >95dB depuis 15min</div>
                        </div>
                        <button className="px-4 py-2 bg-red-500 rounded-lg text-sm font-medium">
                            Traiter
                        </button>
                    </div>
                </div>
                
                {/* Quick Stats */}
                <div className="grid grid-cols-5 gap-4">
                    <div className="glass rounded-xl p-4 text-center">
                        <div className="text-3xl font-bold text-red-400">{KPI_DATA.incidentsOuverts}</div>
                        <div className="text-xs text-slate-400 mt-1">Incidents ouverts</div>
                    </div>
                    <div className="glass rounded-xl p-4 text-center">
                        <div className="text-3xl font-bold text-orange-400">{KPI_DATA.actionsCAPA.echues}</div>
                        <div className="text-xs text-slate-400 mt-1">Actions √©chues</div>
                    </div>
                    <div className="glass rounded-xl p-4 text-center">
                        <div className="text-3xl font-bold text-yellow-400">{KPI_DATA.inspections.enRetard}</div>
                        <div className="text-xs text-slate-400 mt-1">Inspections retard</div>
                    </div>
                    <div className="glass rounded-xl p-4 text-center">
                        <div className="text-3xl font-bold text-blue-400">{KPI_DATA.actionsCAPA.enCours}</div>
                        <div className="text-xs text-slate-400 mt-1">CAPA en cours</div>
                    </div>
                    <div className="glass rounded-xl p-4 text-center">
                        <div className="text-3xl font-bold text-green-400">{KPI_DATA.joursSSA.value}</div>
                        <div className="text-xs text-slate-400 mt-1">Jours sans accident</div>
                    </div>
                </div>
                
                {/* Main Grid */}
                <div className="grid grid-cols-3 gap-6">
                    {/* Incidents r√©cents */}
                    <div className="col-span-2 glass rounded-2xl p-6">
                        <div className="flex items-center justify-between mb-4">
                            <h3 className="font-semibold flex items-center gap-2">
                                <span>üö®</span> Incidents r√©cents
                            </h3>
                            <button className="px-3 py-1 bg-blue-500 rounded-lg text-sm">
                                + Nouveau
                            </button>
                        </div>
                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead>
                                    <tr className="text-left text-sm text-slate-400 border-b border-white/10">
                                        <th className="pb-3">ID</th>
                                        <th className="pb-3">Date</th>
                                        <th className="pb-3">Type</th>
                                        <th className="pb-3">Zone</th>
                                        <th className="pb-3">S√©v√©rit√©</th>
                                        <th className="pb-3">Statut</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {INCIDENTS.map((inc) => (
                                        <tr key={inc.id} className="border-b border-white/5 hover:bg-white/5">
                                            <td className="py-3 text-sm font-mono text-blue-400">{inc.id}</td>
                                            <td className="py-3 text-sm">{inc.date}</td>
                                            <td className="py-3 text-sm">{inc.type}</td>
                                            <td className="py-3 text-sm">{inc.zone}</td>
                                            <td className="py-3">
                                                <span className={`px-2 py-1 rounded text-xs ${
                                                    inc.severity === 'high' ? 'bg-red-500/20 text-red-400' :
                                                    inc.severity === 'medium' ? 'bg-yellow-500/20 text-yellow-400' :
                                                    'bg-green-500/20 text-green-400'
                                                }`}>
                                                    {inc.severity}
                                                </span>
                                            </td>
                                            <td className="py-3">
                                                <span className={`px-2 py-1 rounded text-xs ${
                                                    inc.status === 'Enqu√™te' ? 'bg-orange-500/20 text-orange-400' :
                                                    inc.status === 'CAPA' ? 'bg-blue-500/20 text-blue-400' :
                                                    'bg-green-500/20 text-green-400'
                                                }`}>
                                                    {inc.status}
                                                </span>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    {/* Alertes */}
                    <AlertCard alerts={ALERTS} />
                </div>
                
                {/* Programme Pr√©vention + Zones */}
                <div className="grid grid-cols-2 gap-6">
                    {/* Programme Pr√©vention */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üìë</span> Programme Pr√©vention (P1-P9)
                        </h3>
                        <div className="flex items-center gap-2 mb-4">
                            <div className="flex-1 h-3 bg-white/10 rounded-full overflow-hidden">
                                <div className="h-full bg-gradient-to-r from-blue-500 to-green-500" style={{ width: '87%' }}></div>
                            </div>
                            <span className="text-sm font-semibold">87%</span>
                        </div>
                        <div className="grid grid-cols-3 gap-2">
                            {['P1', 'P2', 'P3', 'P4', 'P5', 'P6', 'P7', 'P8', 'P9'].map((p, i) => (
                                <div key={p} className={`p-2 rounded-lg text-center text-sm ${
                                    [0,1,2,4,6,8].includes(i) ? 'bg-green-500/20 text-green-400' :
                                    [3,5].includes(i) ? 'bg-yellow-500/20 text-yellow-400' :
                                    'bg-blue-500/20 text-blue-400'
                                }`}>
                                    {p}
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Zones de risque */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üìç</span> Zones de risque
                        </h3>
                        <div className="space-y-3">
                            {ZONES.map((zone) => (
                                <div key={zone.name} className="flex items-center gap-3 p-3 bg-white/5 rounded-xl">
                                    <span className={`w-3 h-3 rounded-full ${
                                        zone.risk === 'critical' ? 'bg-red-500' :
                                        zone.risk === 'high' ? 'bg-orange-500' :
                                        zone.risk === 'medium' ? 'bg-yellow-500' : 'bg-green-500'
                                    }`}></span>
                                    <div className="flex-1">
                                        <div className="text-sm font-medium">{zone.name}</div>
                                    </div>
                                    <div className="text-xs text-slate-400">
                                        ü§ñ {zone.agents}
                                    </div>
                                    {zone.alerts > 0 && (
                                        <span className="px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs">
                                            {zone.alerts} alertes
                                        </span>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
                
                {/* Agents actifs */}
                <div className="glass rounded-2xl p-6">
                    <h3 className="font-semibold mb-4 flex items-center gap-2">
                        <span>ü§ñ</span> Agents IA actifs
                        <span className="ml-auto text-sm font-normal text-slate-400">
                            <span className="text-green-400">118</span> / 122 online
                        </span>
                    </h3>
                    <div className="grid grid-cols-6 gap-4">
                        {Object.entries(AGENTS_DATA).map(([pole, agents]) => (
                            <AgentStatusCard key={pole} pole={pole.charAt(0).toUpperCase() + pole.slice(1)} agents={agents.slice(0, 4)} />
                        ))}
                    </div>
                </div>
            </div>
        );
        
        // ============================================================
        // PAGES - Superviseur Dashboard
        // ============================================================
        
        const SuperviseurDashboard = () => (
            <div className="space-y-6 animate-slide-up">
                {/* Zone Header */}
                <div className="glass rounded-2xl p-6">
                    <div className="flex items-center justify-between">
                        <div>
                            <h2 className="text-2xl font-bold">Zone Usinage</h2>
                            <p className="text-slate-400">12 personnes ‚Ä¢ Quart de jour</p>
                        </div>
                        <div className="flex items-center gap-4">
                            <div className="text-center">
                                <div className="text-3xl font-bold text-green-400">45</div>
                                <div className="text-xs text-slate-400">Jours sans accident</div>
                            </div>
                            <div className="h-12 w-px bg-white/10"></div>
                            <div className="flex items-center gap-2">
                                <span className="w-3 h-3 bg-orange-500 rounded-full"></span>
                                <span>Risque: √âLEV√â</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                {/* Quick Actions */}
                <div className="grid grid-cols-4 gap-4">
                    {[
                        { icon: "üö®", label: "D√©clarer incident", color: "from-red-600 to-red-800" },
                        { icon: "üìã", label: "Inspection", color: "from-blue-600 to-blue-800" },
                        { icon: "üìù", label: "Permis travail", color: "from-purple-600 to-purple-800" },
                        { icon: "üîí", label: "Demande LOTO", color: "from-amber-600 to-amber-800" },
                    ].map((action) => (
                        <button
                            key={action.label}
                            className={`p-6 bg-gradient-to-br ${action.color} rounded-2xl text-center card-hover`}
                        >
                            <div className="text-3xl mb-2">{action.icon}</div>
                            <div className="font-semibold">{action.label}</div>
                        </button>
                    ))}
                </div>
                
                {/* Main Grid */}
                <div className="grid grid-cols-3 gap-6">
                    {/* Mon √©quipe */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üë•</span> Mon √©quipe
                        </h3>
                        <div className="space-y-3">
                            <div className="flex justify-between p-3 bg-white/5 rounded-xl">
                                <span>Pr√©sents</span>
                                <span className="text-green-400 font-semibold">11</span>
                            </div>
                            <div className="flex justify-between p-3 bg-white/5 rounded-xl">
                                <span>Absents</span>
                                <span className="text-red-400 font-semibold">1</span>
                            </div>
                            <div className="flex justify-between p-3 bg-white/5 rounded-xl">
                                <span>En formation</span>
                                <span className="text-blue-400 font-semibold">2</span>
                            </div>
                            <div className="flex justify-between p-3 bg-white/5 rounded-xl">
                                <span>Formation √©chue</span>
                                <span className="text-orange-400 font-semibold">1</span>
                            </div>
                        </div>
                    </div>
                    
                    {/* Mes t√¢ches */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üìã</span> Mes t√¢ches aujourd'hui
                        </h3>
                        <div className="space-y-3">
                            {[
                                { task: "Inspection quotidienne", status: "done" },
                                { task: "V√©rifier EPI poste 3", status: "pending" },
                                { task: "Briefing s√©curit√© √©quipe", status: "done" },
                                { task: "Suivi CAPA #127", status: "overdue" },
                                { task: "Audit bruit zone", status: "pending" },
                            ].map((item, i) => (
                                <div key={i} className="flex items-center gap-3 p-3 bg-white/5 rounded-xl">
                                    <span className={`w-2 h-2 rounded-full ${
                                        item.status === 'done' ? 'bg-green-500' :
                                        item.status === 'overdue' ? 'bg-red-500' : 'bg-yellow-500'
                                    }`}></span>
                                    <span className="text-sm flex-1">{item.task}</span>
                                    {item.status === 'done' && <span className="text-green-400">‚úì</span>}
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Alertes ma zone */}
                    <AlertCard alerts={ALERTS.filter(a => a.type !== 'low').slice(0, 3)} />
                </div>
                
                {/* KPIs Zone */}
                <div className="glass rounded-2xl p-6">
                    <h3 className="font-semibold mb-4">üìä KPIs Zone Usinage (30 jours)</h3>
                    <div className="grid grid-cols-5 gap-4">
                        <div className="text-center p-4 bg-white/5 rounded-xl">
                            <div className="text-2xl font-bold">1</div>
                            <div className="text-xs text-slate-400">Incidents</div>
                        </div>
                        <div className="text-center p-4 bg-white/5 rounded-xl">
                            <div className="text-2xl font-bold">4</div>
                            <div className="text-xs text-slate-400">Near-miss</div>
                        </div>
                        <div className="text-center p-4 bg-white/5 rounded-xl">
                            <div className="text-2xl font-bold text-green-400">12/12</div>
                            <div className="text-xs text-slate-400">Inspections</div>
                        </div>
                        <div className="text-center p-4 bg-white/5 rounded-xl">
                            <div className="text-2xl font-bold">3</div>
                            <div className="text-xs text-slate-400">CAPA ferm√©es</div>
                        </div>
                        <div className="text-center p-4 bg-white/5 rounded-xl">
                            <div className="text-2xl font-bold text-blue-400">98%</div>
                            <div className="text-xs text-slate-400">EPI conformes</div>
                        </div>
                    </div>
                </div>
            </div>
        );
        
        // ============================================================
        // PAGES - Travailleur Dashboard
        // ============================================================
        
        const TravailleurDashboard = () => (
            <div className="space-y-6 animate-slide-up">
                {/* Welcome */}
                <div className="glass rounded-2xl p-6">
                    <div className="flex items-center gap-4">
                        <div className="text-5xl">üë∑</div>
                        <div>
                            <h2 className="text-2xl font-bold">Bonjour Jean!</h2>
                            <p className="text-slate-400">Zone Usinage ‚Ä¢ Poste 5 ‚Ä¢ Quart de jour</p>
                        </div>
                        <div className="ml-auto text-right">
                            <div className="text-3xl font-bold text-green-400">45</div>
                            <div className="text-sm text-slate-400">Jours sans accident</div>
                        </div>
                    </div>
                </div>
                
                {/* Quick Actions */}
                <div className="grid grid-cols-3 gap-4">
                    <button className="p-6 bg-gradient-to-br from-red-600 to-red-800 rounded-2xl text-center card-hover">
                        <div className="text-4xl mb-3">üö®</div>
                        <div className="font-semibold">Signaler un danger</div>
                        <div className="text-sm text-white/70 mt-1">Situation dangereuse, near-miss</div>
                    </button>
                    <button className="p-6 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl text-center card-hover">
                        <div className="text-4xl mb-3">üéì</div>
                        <div className="font-semibold">Mes formations</div>
                        <div className="text-sm text-white/70 mt-1">3 compl√©t√©es, 1 √† faire</div>
                    </button>
                    <button className="p-6 bg-gradient-to-br from-purple-600 to-purple-800 rounded-2xl text-center card-hover">
                        <div className="text-4xl mb-3">üìÑ</div>
                        <div className="font-semibold">Documents SST</div>
                        <div className="text-sm text-white/70 mt-1">Proc√©dures, fiches s√©curit√©</div>
                    </button>
                </div>
                
                {/* Main Content */}
                <div className="grid grid-cols-2 gap-6">
                    {/* Mes formations */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>üéì</span> Mes formations
                        </h3>
                        <div className="space-y-3">
                            {[
                                { name: "SIMDUT 2015", status: "valid", expiry: "2026-03-15" },
                                { name: "Secourisme", status: "valid", expiry: "2025-08-20" },
                                { name: "Travail en hauteur", status: "expiring", expiry: "2025-01-15" },
                                { name: "LOTO - Cadenassage", status: "todo", expiry: null },
                            ].map((f, i) => (
                                <div key={i} className="flex items-center gap-3 p-3 bg-white/5 rounded-xl">
                                    <span className={`w-3 h-3 rounded-full ${
                                        f.status === 'valid' ? 'bg-green-500' :
                                        f.status === 'expiring' ? 'bg-yellow-500' : 'bg-blue-500'
                                    }`}></span>
                                    <div className="flex-1">
                                        <div className="text-sm font-medium">{f.name}</div>
                                        {f.expiry && (
                                            <div className="text-xs text-slate-400">Expire: {f.expiry}</div>
                                        )}
                                    </div>
                                    {f.status === 'todo' && (
                                        <button className="px-3 py-1 bg-blue-500 rounded text-xs">
                                            Commencer
                                        </button>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    {/* Mes droits */}
                    <div className="glass rounded-2xl p-6">
                        <h3 className="font-semibold mb-4 flex items-center gap-2">
                            <span>‚öñÔ∏è</span> Mes droits SST
                        </h3>
                        <div className="space-y-3">
                            {[
                                { icon: "üõë", title: "Droit de refus", desc: "Si danger pour votre sant√©/s√©curit√© (LSST art. 12-31)" },
                                { icon: "üö∂", title: "Droit de retrait", desc: "Quitter une situation dangereuse (LSST art. 25)" },
                                { icon: "üó£Ô∏è", title: "Droit de participer", desc: "Comit√© SST, repr√©sentant pr√©vention" },
                                { icon: "üìã", title: "Droit √† l'information", desc: "Risques, mesures de pr√©vention, SIMDUT" },
                            ].map((d, i) => (
                                <div key={i} className="flex items-start gap-3 p-3 bg-white/5 rounded-xl">
                                    <span className="text-2xl">{d.icon}</span>
                                    <div>
                                        <div className="font-medium">{d.title}</div>
                                        <div className="text-xs text-slate-400">{d.desc}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
                
                {/* Info zone */}
                <div className="glass rounded-2xl p-6">
                    <h3 className="font-semibold mb-4 flex items-center gap-2">
                        <span>üìç</span> Ma zone - Usinage
                    </h3>
                    <div className="grid grid-cols-4 gap-4">
                        <div className="p-4 bg-orange-500/20 rounded-xl">
                            <div className="text-sm text-slate-400 mb-1">Niveau de risque</div>
                            <div className="text-lg font-semibold text-orange-400">√âLEV√â</div>
                        </div>
                        <div className="p-4 bg-white/5 rounded-xl">
                            <div className="text-sm text-slate-400 mb-1">EPI obligatoires</div>
                            <div className="text-lg">üëìüß§üëÇü•æ</div>
                        </div>
                        <div className="p-4 bg-white/5 rounded-xl">
                            <div className="text-sm text-slate-400 mb-1">Secouriste zone</div>
                            <div className="text-lg font-semibold">Marc D.</div>
                        </div>
                        <div className="p-4 bg-white/5 rounded-xl">
                            <div className="text-sm text-slate-400 mb-1">Superviseur</div>
                            <div className="text-lg font-semibold">Pierre C.</div>
                        </div>
                    </div>
                </div>
            </div>
        );
        
        // ============================================================
        // PAGES - Agents
        // ============================================================
        
        const AgentsPage = () => {
            const [selectedPole, setSelectedPole] = useState('all');
            
            const poles = [
                { key: 'all', label: 'Tous', count: 122 },
                { key: 'conformite', label: 'Conformit√©', count: 18 },
                { key: 'terrain', label: 'Terrain', count: 20 },
                { key: 'incidents', label: 'Incidents', count: 18 },
                { key: 'formation', label: 'Formation', count: 12 },
                { key: 'analytics', label: 'Analytics', count: 10 },
                { key: 'innovation', label: 'Innovation', count: 22 },
            ];
            
            const allAgents = selectedPole === 'all' 
                ? Object.values(AGENTS_DATA).flat()
                : AGENTS_DATA[selectedPole] || [];
            
            return (
                <div className="space-y-6 animate-slide-up">
                    {/* Header */}
                    <div className="glass rounded-2xl p-6">
                        <div className="flex items-center justify-between">
                            <div>
                                <h2 className="text-2xl font-bold">ü§ñ Agents IA AgenticX5</h2>
                                <p className="text-slate-400">122 agents orchestr√©s par HUGO</p>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="text-center">
                                    <div className="text-2xl font-bold text-green-400">118</div>
                                    <div className="text-xs text-slate-400">Online</div>
                                </div>
                                <div className="text-center">
                                    <div className="text-2xl font-bold text-blue-400">3</div>
                                    <div className="text-xs text-slate-400">Processing</div>
                                </div>
                                <div className="text-center">
                                    <div className="text-2xl font-bold text-red-400">1</div>
                                    <div className="text-xs text-slate-400">Alert</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Pole Filter */}
                    <div className="flex gap-2 overflow-x-auto pb-2">
                        {poles.map((pole) => (
                            <button
                                key={pole.key}
                                onClick={() => setSelectedPole(pole.key)}
                                className={`px-4 py-2 rounded-xl whitespace-nowrap transition-all ${
                                    selectedPole === pole.key 
                                        ? 'bg-blue-500 text-white' 
                                        : 'glass hover:bg-white/10'
                                }`}
                            >
                                {pole.label} ({pole.count})
                            </button>
                        ))}
                    </div>
                    
                    {/* Agents Grid */}
                    <div className="grid grid-cols-3 gap-4">
                        {allAgents.map((agent) => (
                            <div key={agent.name} className={`glass rounded-2xl p-6 card-hover ${
                                agent.status === 'online' ? 'agent-online' :
                                agent.status === 'processing' ? 'agent-processing' : 'agent-alert'
                            }`}>
                                <div className="flex items-start justify-between mb-4">
                                    <div>
                                        <div className="font-semibold">{agent.name}</div>
                                        <div className="text-sm text-slate-400">{agent.description}</div>
                                    </div>
                                    <span className={`w-3 h-3 rounded-full ${
                                        agent.status === 'online' ? 'bg-green-500' :
                                        agent.status === 'processing' ? 'bg-blue-500 animate-pulse' : 'bg-red-500 animate-pulse'
                                    }`}></span>
                                </div>
                                <div className="flex justify-between text-sm">
                                    <div>
                                        <div className="text-slate-400">T√¢ches</div>
                                        <div className="font-semibold">{agent.tasks.toLocaleString()}</div>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-slate-400">Pr√©cision</div>
                                        <div className="font-semibold text-green-400">{agent.accuracy}%</div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };
        
        // ============================================================
        // MAIN APP
        // ============================================================
        
        const App = () => {
            const [user, setUser] = useState(null);
            const [currentPage, setCurrentPage] = useState('dashboard');
            
            const handleLogin = (userData) => {
                setUser(userData);
                setCurrentPage('dashboard');
            };
            
            const handleLogout = () => {
                setUser(null);
                setCurrentPage('dashboard');
            };
            
            // Not logged in
            if (!user) {
                return <LoginPage onLogin={handleLogin} />;
            }
            
            // Render page content
            const renderPage = () => {
                if (currentPage === 'agents') {
                    return <AgentsPage />;
                }
                
                switch (user.role) {
                    case 'direction':
                        return <DirectionDashboard />;
                    case 'coss':
                        return <CoSSDashboard />;
                    case 'superviseur':
                        return <SuperviseurDashboard />;
                    case 'travailleur':
                        return <TravailleurDashboard />;
                    default:
                        return <CoSSDashboard />;
                }
            };
            
            return (
                <AppContext.Provider value={{ user, currentPage, setCurrentPage }}>
                    <div className="min-h-screen">
                        <Sidebar currentPage={currentPage} setCurrentPage={setCurrentPage} user={user} />
                        <Header user={user} onLogout={handleLogout} />
                        
                        <main className="ml-64 pt-16 p-6">
                            {renderPage()}
                        </main>
                    </div>
                </AppContext.Provider>
            );
        };
        
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
